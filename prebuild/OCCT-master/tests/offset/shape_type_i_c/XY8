puts "============================================================================================="
puts "0032566: Modeling Algorithms - Incorrect result of offset operation in mode \"Complete\" join type \"Intersection\""
puts "============================================================================================="
puts ""

restore [locate_data_file bug32566.brep] s

set ref_values { { 3.94658e+06 9.49773e+07 58 58 } \
                 { 4.15709e+06 1.15236e+08 58 58 } \
                 { 4.36881e+06 1.3655e+08  58 58 } \
                 { 2.91882e+06 1.54418e+08 16 16 } \
                 { 3.04675e+06 1.69332e+08 16 16 } \
                 { 3.17587e+06 1.84888e+08 16 16 } \
                 { 3.30619e+06 2.01092e+08 16 16 } \
                 { 3.43772e+06 2.17952e+08 16 16 } \
                 { 3.57044e+06 2.35471e+08 16 16 } \
                 { 3.70436e+06 2.53658e+08 16 16 } \
                 { 3.83949e+06 2.72517e+08 16 16 } \
                 { 3.97581e+06 2.92055e+08 16 16 } \
                 { 4.11334e+06 3.12277e+08 16 16 } \
                 { 4.2523e+06  3.3319e+08  17 17 } \
                 { 4.39391e+06 3.54805e+08 17 17 } \
                 { 4.53673e+06 3.77131e+08 17 17 } \
                 { 4.68075e+06 4.00175e+08 17 17 } \
                 { 4.82596e+06 4.23941e+08 17 17 } \
                 { 4.97238e+06 4.48436e+08 17 17 } \
                 { 5.12e+06    4.73667e+08 17 17 } \
                 { 5.26881e+06 4.99638e+08 17 17 } \
                 { 5.41883e+06 5.26357e+08 17 17 } \
                 { 5.57005e+06 5.53829e+08 17 17 } \
                 { 5.72247e+06 5.82059e+08 17 17 } \
                 { 5.87608e+06 6.11055e+08 17 17 } \
                 { 6.0309e+06  6.40822e+08 17 17 } \
                 { 6.18692e+06 6.71366e+08 17 17 } \
                 { 6.34413e+06 7.02693e+08 17 17 } \
                 { 6.50255e+06 7.3481e+08  17 17 } \
                 { 6.66217e+06 7.67721e+08 17 17 } }

perform_offset_increasing s 5 150 5 $ref_values

copy r90 result
copy r90_unif result_unif

checkview -display result_unif -2d -path ${imagedir}/${test_image}.png
